# Микросообщения пользователей

У нас пока не реализована возможность создания микросообщений с помощью веб-браузера – она появится позже, но это не мешает нам
реализовать их отображение. Следуя по стопам Twitter, мы будем отображать микросообщения не на отдельной странице с их
списком, а непосредственно на странице профиля пользователя. Начнем с довольно простых шаблонов добавления микросообщений в профиль
пользователя. 

# Содание модели микросообщения

- создать модель ```Micropost```
- создать навигационные свойства между моделями Micropost и User
- отредактировать миграцию для приминения правил каскадного удаления всех сообщений при удалении пользователя
- добавить новую коллекцию данных в ```SampleappContext```



# Добавление микросообщений на страницу профиля пользователя

Стили css для микросообщений:

```css
.microposts {
    list-style: none;
    padding: 0;

    li {
        padding: 10px 0;
        border-top: 1px solid #e8e8e8;
    }

    .user {
        margin-top: 5em;
        padding-top: 0;
    }

    .content {
        display: block;
        margin-left: 60px;

        img {
            display: block;
            padding: 5px 0;
        }
    }

    .timestamp {
        color: gray;
        display: block;
        margin-left: 60px;
    }

    .gravatar {
        float: left;
        margin-right: 10px;
        margin-top: 5px;
    }
}

aside {
    textarea {
        height: 100px;
        margin-bottom: 5px;
    }
}

span.picture {
    margin-top: 10px;

    input {
        border: 0;
    }
}
```

# Создание микросообщениями

Мы закончили работу над моделью данных и шаблонами отображения
микросообщений, теперь обратим наше внимание на веб-интерфейс для их
создания. В этом разделе мы также увидим первый намек на поток (ленту)
сообщений. Наконец, так же как с пользователями, мы сделаем возможным
удаление микросообщений через веб-интерфейс. 

Добавление формы для создания микросообщений на главной странице. При этом форма должна появляться, когда пользователь авторизирован. 

**Задание**: реализуйте отображение формы при заданном условии. Используйте для этого условие.

Далее, если пользователь залогинился покажите ему форму c левой стороны. Вставте форму в контейнер ```class="col-md-4"```

```html
        <aside>
            <section class="micropost_form">
                <form action="" method="post" class="form-signin" role="form">
                    <textarea rows="4" cols="50" type="text" name="message" required autofocus></textarea>
                    <button class="btn btn-lg btn-primary btn-block" type="submit" name="submit">Отправить</button>
                </form>
            </section>
        </aside>
```


# Удаление микросообщений

Последнее, что осталось добавить возможность удаления сообщений. Так же как в случае с удалением учетных записей мы реализуем это добавлением ссылок «delete» (удалить). Но, в отличие от учетных записей, удаление которых было доступно только администраторам, микросообщения могут удаляться лишь их авторами. Ниже представлен код для кнопки удаления:

# Прото-лента

**Задание**:

- На главной странице должна появляться лента сообщений, если пользователь залогинен
- Список пользователей должен отображаться только, если пользователь залогинен.
- Реализуйте возможность удаления пользователей только, если пользователь сам админ.
